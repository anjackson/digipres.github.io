<?xml version="1.0" encoding="UTF-8"?>
<fdd:FDD id="fdd000343" titleName="Matroska File Format with FFV1 video encoding" shortName="Matroska_FFV1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:fdd="http://www.loc.gov/preservation/digital/formats/schemas/fdd/v1" xsi:schemaLocation="http://www.loc.gov/preservation/digital/formats/schemas/fdd/v1 http://www.loc.gov/preservation/digital/formats/schemas/fdd/v1/fdd-v1-2.xsd">
	<fdd:properties>
		<fdd:gdfrGenreSelection>
			<fdd:gdfrGenre>moving-image</fdd:gdfrGenre>
		</fdd:gdfrGenreSelection>
		<fdd:formatCategories>
			<fdd:category>file-format</fdd:category>
			<fdd:category>encoding</fdd:category>
		</fdd:formatCategories>
		<fdd:gdfrComposition>container-wrapper</fdd:gdfrComposition>
		<fdd:gdfrForm>binary</fdd:gdfrForm>
		<fdd:updates>
			<fdd:date>2022-04-04</fdd:date>
		</fdd:updates>
		<fdd:draftStatus>Partial</fdd:draftStatus>
	</fdd:properties>
	<fdd:identificationAndDescription>
		<fdd:fullName>Matroska File Format with FFV1 video encoding </fdd:fullName>
		<fdd:keywords>
			<fdd:keyword>video formats</fdd:keyword>
		</fdd:keywords>
		<fdd:description>
			<a href="https://www.matroska.org/technical/basics.html">Matroska</a> file containing video essence encoded as <fddLink id="fdd000341">FFV1</fddLink>. <p>Supported encodings are declared via the unique <i>Codec ID</i> in the <a href="https://www.matroska.org/technical/codec_specs.html">Matroska Codec Mappings</a>. For FFV1 files, the information is the following:</p>
			<ul>
				<li>Codec ID: V_FFV1</li>
				<li>Codec Name: FF Video Codec 1 (note that versions are not declared in the title)</li>
				<li>Initialization: For FFV1 versions 0 or 1, Private Data SHOULD NOT be written. For FFV1 version 3 or greater, the Private Data MUST contain the FFV1 Configuration Record structure, as defined in <a href="https://www.ietf.org/rfc/rfc9043.txt">RFC 9043 section 4.3</a>, and no other data.</li>
			</ul>
		</fdd:description>
		<fdd:shortDescription>Matroska file containing video essence encoded as FFV1.</fdd:shortDescription>
		<fdd:productionPhase>	Middle state, used for storage or archiving</fdd:productionPhase>
		<fdd:relationships>
			<fdd:relationship>
				<fdd:typeOfRelationship>Subtype of</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000342</fdd:id>
					<fdd:shortName>Matroska</fdd:shortName>
					<fdd:titleName>Matroska Multimedia Container</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>Contains</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000341</fdd:id>
					<fdd:shortName>FFV1_v0-1-3</fdd:shortName>
					<fdd:titleName>FF Video Codec 1, Version 0, 1 and 3</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>May contain</fdd:typeOfRelationship>
				<fdd:comment>Sound essences and other elements, not described at this time.</fdd:comment>
			</fdd:relationship>
		</fdd:relationships>
	</fdd:identificationAndDescription>
	<fdd:localUse>
		<fdd:experience>As of this update in November 2021, the Motion Picture, Broadcasting and Recorded Sound Division (MBRS) has ingested several hundred ffv1/mkv files. These files were received from CUNY-TV through the American Archive of Public Broadcasting and the Library will receive many more of these files through the AAPB in the coming months.</fdd:experience>
		<fdd:preference>FFV1 codec in the Matroska container is an 'acceptable' format in the Recommended Formats Statement (RFS) for <a href="http://www.loc.gov/preservation/resources/rfs/moving.html"> Video -- File-based</a>  but only for content without closed captions or timecode information.  While captions are supported in Matroska, FFmpeg functionality is limited (and does not, for example, support <a href="https://en.wikipedia.org/wiki/Timed_Text_Markup_Language">Timed Text Markup Language or TTML</a>). Improved support for timecode, as opposed to timestamps, is still in development as is support for multi-planar and 3D videos. </fdd:preference>
	</fdd:localUse>
	<fdd:sustainabilityFactors>
		<fdd:disclosure>See <fddLink id="fdd000342">Matroska</fddLink> and <fddLink id="fdd000341">FFV1_v0-1-3</fddLink>.</fdd:disclosure>
		<fdd:documentation>See <fddLink id="fdd000342">Matroska</fddLink> and <fddLink id="fdd000341">FFV1_v0-1-3</fddLink>.</fdd:documentation>
		<fdd:adoption>Modest adoption of <fddLink id="fdd000342">Matroska</fddLink> and <fddLink id="fdd000341">FFV1_v0-1-3</fddLink> in heritage repositories.</fdd:adoption>
		<fdd:licensingAndPatents>See <fddLink id="fdd000342">Matroska</fddLink> and <fddLink id="fdd000341">FFV1_v0-1-3</fddLink>.</fdd:licensingAndPatents>
		<fdd:transparency>See <fddLink id="fdd000342">Matroska</fddLink> and <fddLink id="fdd000341">FFV1_v0-1-3</fddLink>.</fdd:transparency>
		<fdd:selfDocumentation>See <fddLink id="fdd000342">Matroska</fddLink> and <fddLink id="fdd000341">FFV1_v0-1-3</fddLink>.</fdd:selfDocumentation>
		<fdd:externalDependencies>See <fddLink id="fdd000342">Matroska</fddLink> and <fddLink id="fdd000341">FFV1_v0-1-3</fddLink>.</fdd:externalDependencies>
		<fdd:techProtection>See <fddLink id="fdd000342">Matroska</fddLink> and <fddLink id="fdd000341">FFV1_v0-1-3</fddLink>.</fdd:techProtection>
	</fdd:sustainabilityFactors>
	<fdd:qualityAndFunctionalityFactors/>
	<fdd:fileTypeSignifiers>
		<fdd:signifiersGroup>
		<fdd:filenameExtension>
				<fdd:sigValueNA>See related format.</fdd:sigValueNA>
				<fdd:note>See <fddLink id="fdd000342">Matroska</fddLink>
				</fdd:note>
			</fdd:filenameExtension>
			<fdd:other>
				<fdd:tag>Pronom PUID</fdd:tag>
				<fdd:values>
					<fdd:sigValueNA>See note.</fdd:sigValueNA>
					<fdd:note>See <fddLink id="fdd000342">Matroska</fddLink>.</fdd:note>
				</fdd:values>
			</fdd:other>
			<fdd:other>
				<fdd:tag>Wikidata Title ID</fdd:tag>
				<fdd:values>
					<fdd:sigValueNA>See note.</fdd:sigValueNA>
					<fdd:note>See <fddLink id="fdd000342">Matroska</fddLink>.</fdd:note>
				</fdd:values>
			</fdd:other>
		</fdd:signifiersGroup>
	</fdd:fileTypeSignifiers>
	<fdd:formatSpecifications>
		<fdd:urls>
			<fdd:url>
				<fdd:urlReference>
					<link>http://matroska.org/technical/specs/index.html </link>
					<tag>Matroska Specification </tag>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://www.ietf.org/rfc/rfc9043.txt</link>
					<tag>IETF RFC 9043: FFV1 Video Coding Format Versions 0, 1, and 3</tag>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://github.com/FFmpeg/FFV1</link>
					<tag>FFV1 specification GitHub</tag>
					<comment>Markdown version of the FFV1 specification used to generate IETF versions</comment>
				</fdd:urlReference>
			</fdd:url>
		</fdd:urls>
	</fdd:formatSpecifications>
	<fdd:usefulReferences>
		<fdd:urls>
			<fdd:url>
				<fdd:urlGroup>
					<fdd:intro>See <fddLink id="fdd000342">Matroska</fddLink> and <fddLink id="fdd000341">FFV1_v0-1-3</fddLink>.</fdd:intro>
				</fdd:urlGroup>
			</fdd:url>
		</fdd:urls>
	</fdd:usefulReferences>
</fdd:FDD>
